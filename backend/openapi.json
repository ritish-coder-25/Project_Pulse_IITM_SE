components:
  responses:
    DEFAULT_ERROR:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
      description: Default error response
    UNPROCESSABLE_ENTITY:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
      description: Unprocessable Entity
  schemas:
    CommitDetail:
      properties:
        commit_sha:
          type: string
        date:
          pattern: ^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$
          type: string
        file_changes:
          items:
            $ref: '#/components/schemas/FileChange'
          type: array
        message:
          type: string
      required:
      - commit_sha
      - date
      - file_changes
      - message
      type: object
    CommitUser:
      properties:
        commit_details:
          items:
            $ref: '#/components/schemas/CommitDetail'
          type: array
        total_commits:
          type: integer
      required:
      - commit_details
      - total_commits
      type: object
    CommitsResponse:
      properties:
        users:
          additionalProperties:
            $ref: '#/components/schemas/CommitUser'
          type: object
      required:
      - users
      type: object
    CommonError:
      properties:
        errorCode:
          type: string
        message:
          type: string
      required:
      - errorCode
      - message
      type: object
    CreateTeam:
      properties:
        emails:
          items:
            type: string
          minItems: 1
          type: array
        github_repo_url:
          minLength: 1
          type: string
        team:
          minLength: 1
          type: string
      required:
      - emails
      - github_repo_url
      - team
      type: object
    DocumentList:
      properties:
        documents:
          items:
            additionalProperties: {}
            type: object
          type: array
      type: object
    Error:
      properties:
        code:
          description: Error code
          type: integer
        errors:
          additionalProperties: {}
          description: Errors
          type: object
        message:
          description: Error message
          type: string
        status:
          description: Error name
          type: string
      type: object
    MilestoneCompletionOutput:
      properties:
        team:
          readOnly: true
          type: string
      type: object
    MilestoneCompletionsResponse:
      properties:
        completions:
          items:
            $ref: '#/components/schemas/MilestoneCompletionOutput'
          readOnly: true
          type: array
        message:
          type: string
      type: object
    MilestoneCreationResponse:
      properties:
        message:
          type: string
        milestone_id:
          readOnly: true
          type: integer
      type: object
    MilestoneDeletionResponse:
      properties:
        message:
          type: string
      type: object
    MilestoneListResponse:
      properties:
        milestones:
          items:
            $ref: '#/components/schemas/MilestoneOutput'
          readOnly: true
          type: array
      type: object
    MilestoneOutput:
      properties:
        description:
          readOnly: true
          type: string
        end_date:
          format: date
          readOnly: true
          type: string
        id:
          readOnly: true
          type: integer
        max_marks:
          readOnly: true
          type: number
        name:
          readOnly: true
          type: string
        start_date:
          format: date
          readOnly: true
          type: string
      type: object
    MilestoneUpdateResponse:
      properties:
        message:
          type: string
    FileChange:
      properties:
        additions:
          type: integer
        changes_str:
          type: string
        code_changes:
          nullable: true
          type: string
        deletions:
          type: integer
        filename:
          type: string
        status:
          enum:
          - added
          - modified
          - removed
          type: string
        total_changes:
          type: integer
      required:
      - additions
      - changes_str
      - deletions
      - filename
      - status
      - total_changes
      type: object
    FileDownload:
      properties:
        file:
          description: The downloaded file
      type: object
    Member:
      properties:
        commit_count:
          description: Number of commits by the member
          type: integer
        email:
          description: Member's email address
          format: email
          type: string
        name:
          description: Member's full name
          type: string
      required:
      - commit_count
      - email
      - name
      type: object
    Milestone:
      properties:
        end_date:
          description: End date of the milestone
          format: date-time
          type: string
        milestone_name:
          description: Name of the milestone
          type: string
        milestone_status:
          description: Status of the milestone (e.g., Evaluated, Completed, Pending,
            Missed)
          type: string
      required:
      - end_date
      - milestone_name
      - milestone_status
      type: object
    Member:
      properties:
        commit_count:
          description: Number of commits by the member
          type: integer
        email:
          description: Member's email address
          format: email
          type: string
        name:
          description: Member's full name
          type: string
      required:
      - commit_count
      - email
      - name
      type: object
    Milestone:
      properties:
        end_date:
          description: End date of the milestone
          format: date-time
          type: string
        milestone_name:
          description: Name of the milestone
          type: string
        milestone_status:
          description: Status of the milestone (e.g., Evaluated, Completed, Pending,
            Missed)
          type: string
      required:
      - end_date
      - milestone_name
      - milestone_status
      type: object
    MilestoneDeadline:
      properties:
        end_date:
          description: Formatted end date of the milestone
          type: string
        milestone_description:
          description: Description of the milestone
          type: string
        milestone_name:
          description: Name of the milestone
          type: string
      required:
      - end_date
      - milestone_description
      - milestone_name
      type: object
    PaginationMetadata:
      properties:
        first_page:
          type: integer
        last_page:
          type: integer
        next_page:
          type: integer
        page:
          type: integer
        previous_page:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer
      type: object
    ProjectCreationResponse:
      properties:
        message:
          type: string
        project:
          allOf:
          - $ref: '#/components/schemas/ProjectOutput'
          readOnly: true
      type: object
    ProjectOutput:
      properties:
        document_url:
          readOnly: true
          type: string
        name:
          readOnly: true
          type: string
        project_id:
          readOnly: true
          type: integer
        statement:
          readOnly: true
          type: string
      type: object
    PutTeam:
      properties:
        emails:
          items:
            type: string
          minItems: 1
          type: array
        team_id:
          type: integer
      required:
      - emails
      - team_id
      type: object
    Team:
      properties:
        github_repo_url:
          format: url
          type: string
        id:
          readOnly: true
          type: integer
        project_id:
          type: integer
        team_lead_id:
          type: integer
        team_name:
          type: string
      required:
      - github_repo_url
      - project_id
      - team_lead_id
      - team_name
      type: object
    TeamsCreateOutput:
      properties:
        message:
          type: string
        team_id:
          readOnly: true
          type: integer
      type: object
    TeamsDeleteOutput:
      properties:
        message:
          type: string
      type: object
info:
  title: My API
  version: v1
openapi: 3.0.2
paths:
  /api/teams:
                $ref: '#/components/schemas/FileDownload'
          description: OK
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonError'
          description: Not Found
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonError'
          description: Internal Server Error
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      summary: Download a submitted file by its ID.
      tags:
      - Submissions
    parameters:
    - in: path
      name: file_id
      required: true
      schema:
        minimum: 0
        type: integer
  /api/files/{team_id}:
    get:
      description: "Query Parameters:\n    - team_id (int): The ID of the team whose\
        \ submissions are being queried.\n\nReturns:\n    List of documents with their\
        \ metadata."
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DocumentList'
          description: OK
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonError'
          description: Not Found
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      summary: Get all files submitted by a specific team.
      tags:
      - Submissions
    parameters:
    - in: path
      name: team_id
      required: true
      schema:
        minimum: 0
        type: integer
  /api/stu_home/{stu_id}:
    get:
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StuDashTeam'
          description: Created
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonError'
          description: Not Found
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      summary: This API endpoint is to retrieve information about a student's team,
        providing an overview of the student's team activities and progress.
      tags:
      - StuDashboard-Api
    parameters:
    - in: path
      name: stu_id
      required: true
      schema:
        minimum: 0
        type: integer
  /api/teams:
    get:
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
          description: OK
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - Teams-Api
    post:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTeam'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamsCreateOutput'
          description: Created
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommonError'
          description: Not Found
        '422':
          $ref: '#/components/responses/UNPROCESSABLE_ENTITY'
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - Teams-Api
  /api/teams/{team_id}:
    get:
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
          description: OK
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - Teams-Api
    parameters:
    - in: path
      name: team_id
      required: true
      schema:
        minimum: 0
        type: integer
    put:
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PutTeam'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
          description: Created
        '422':
          $ref: '#/components/responses/UNPROCESSABLE_ENTITY'
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - Teams-Api
  /api/teams/{team_id}/users/{user_id}:
    delete:
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamsDeleteOutput'
          description: OK
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - Teams-Api
    parameters:
    - in: path
      name: team_id
      required: true
      schema:
        minimum: 0
        type: integer
    - in: path
      name: user_id
      required: true
      schema:
        minimum: 0
        type: integer
  /api/users:
    get:
      responses:
        default:
          $ref: '#/components/responses/DEFAULT_ERROR'
      tags:
      - api_bp_users
tags:
- description: Operations on teams
  name: Teams-Api
- description: Operations on users
  name: api_bp_users
